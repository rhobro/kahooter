Index: kahooter/live.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import argparse as ap\nimport asyncio as asio\nimport base64 as b64\nimport random as rand\nfrom urllib.parse import quote\n\nimport aiocometd as comet\n\nfrom __init__ import *\n\n\nclass Kahooter:\n\n    def __init__(self, pin: str, name: str, title_phrase: str, delay: float):\n        self.pin = pin\n        while not self.pin.isdigit():\n            self.pin = input(\"Pin: \")\n        self.name = name\n        if self.name == \"\":\n            self.name = input(\"Name (namerator): \")\n            self.name = \"namerator\" if self.name == \"\" else self.name\n        self.name = name.replace(\" \", \"\")\n        self.title_phrase = title_phrase\n        while self.title_phrase == \"\":\n            self.title_phrase = input(\"Title phrase: \")\n        self.lag = delay\n        self.loop = asio.get_event_loop()\n        self.sess = rq.session()\n        self.device = rand_device()\n\n        self.sess_id = None\n        self.sock = comet.Client(\"\")\n\n        # reserve place\n        rsp = self.sess.get(f\"https://kahoot.it/reserve/session/{pin}/?{t()}\")\n        if \"x-kahoot-session-token\" not in rsp.headers:\n            print(f\"Invalid code {pin}\")\n            return\n        sess_token = rsp.headers[\"x-kahoot-session-token\"]\n\n        c = json.loads(rsp.content)\n        challenge = c[\"challenge\"]\n\n        self.sess_id = decrypt_sess(challenge, sess_token)\n\n        # get name\n        if c[\"namerator\"] or name == \"namerator\":\n            self.name = namerator()\n        print(\"Using name: \" + self.name)\n\n    def play(self):\n        self.loop.run_until_complete(self._play())\n\n    async def _play(self):\n        # don't play if uninitialised\n        if not self.sess_id:\n            print(\"Uninitialized\")\n\n        # url for websocket\n        url = f\"wss://kahoot.it/cometd/{self.pin}/{self.sess_id}\"\n\n        async with comet.Client(url, ssl=True) as c:\n            # subscribe to channels\n            self.sock = c\n            await self.sock.subscribe(\"/service/controller\")\n            await self.sock.subscribe(\"/service/player\")\n            await self.sock.subscribe(\"/service/status\")\n\n            # login\n            await self._send(\"/service/controller\", {\n                \"type\": \"login\",\n                \"gameid\": self.pin,\n                \"host\": \"kahoot.it\",\n                \"name\": self.name,\n                \"content\": json.dumps(self.device)\n            })\n            # login response\n            rsp = await self._recv()\n            if rsp[\"type\"] == \"loginResponse\":\n                # check for error\n                if \"error\" in rsp:\n                    print(f\"Quiz not found. error={rsp['error']}\")\n                    return\n                self.cid = rsp[\"cid\"]\n\n            else:\n                print(\"No player CID returned\")\n                return\n            # status\n            rsp = await self._recv()\n            if rsp[\"type\"] == \"status\":\n                if rsp[\"status\"] != \"ACTIVE\":\n                    print(\"Quiz status is not active\")\n                    return\n\n            # start dance\n            async for raw_msg in self.sock:\n                msg = raw_msg[\"data\"]\n                msg_type = lookup_code(msg[\"id\"])\n\n                # confirmation of log in\n                if msg_type == \"USERNAME_ACCEPTED\":\n                    print(\"Logged in\")\n\n                # admin has started quiz - find answers\n                elif msg_type == \"START_QUIZ\":\n                    details = json.loads(msg[\"content\"])\n\n                    print(f\"Quiz started - {len(details['quizQuestionAnswers'])} questions\\n\")\n\n                    # find answers\n                    self.questions = find(details, self.title_phrase)\n                    # none found\n                    if len(self.questions) == 0:\n                        return\n\n                # question about to be displayed\n                elif msg_type == \"GET_READY\":\n                    q = json.loads(msg[\"content\"])\n\n                    i = q[\"questionIndex\"]\n                    question = self.questions[i][\"q\"]\n                    print(f\"Q{i + 1}: {question}\")\n\n                # answer question\n                elif msg_type == \"START_QUESTION\":\n                    q = json.loads(msg[\"content\"])\n\n                    i = q[\"questionIndex\"]\n                    q_type = q[\"type\"]\n                    n_opt = q[\"quizQuestionAnswers\"][i]\n\n                    # locate answer\n                    ans = self.questions[i][\"a\"]\n\n                    # decide choices\n                    if type(ans) is list:\n                        # multiple answers\n                        choice = [a[\"idx\"] for a in ans]\n\n                    elif type(ans) is dict:\n                        # single answer\n                        choice = ans[\"idx\"]\n\n                    else:\n                        if q_type == \"survey\":\n                            choice = rand.randint(0, n_opt - 1)\n\n                    # submit\n                    await self._send(\"/service/controller\", {\n                        \"id\": lookup_status(\"GAME_BLOCK_ANSWER\"),\n                        \"type\": \"message\",\n                        \"gameid\": self.pin,\n                        \"host\": \"kahoot.it\",\n                        \"content\": json.dumps({\n                            \"type\": q_type,\n                            \"choice\": choice,\n                            \"questionIndex\": i,\n                            \"meta\": {\n                                \"lag\": self.lag,\n                            }\n                        })\n                    })\n\n                    print(strfy_ans(q_type, ans))\n\n                # question finished\n                elif msg_type == \"REVEAL_ANSWER\":\n                    details = json.loads(msg[\"content\"])\n\n                    points_recv = details[\"points\"] if \"points\" in details else 0\n                    total_score = details[\"totalScore\"]\n                    print(f\"Points Earned: {points_recv}\\n\"\n                          f\"Total Score: {total_score}\\n\")\n\n                # quiz finished\n                elif msg_type == \"GAME_OVER\":\n                    details = json.loads(msg[\"content\"])\n\n                    rank = details[\"rank\"]\n                    n_correct = details[\"correctCount\"]\n                    n_incorrect = details[\"incorrectCount\"]\n                    total_score = details[\"totalScore\"]\n\n                    print(f\"Rank: {rank}\\n\"\n                          f\"n Correct: {n_correct}\\n\"\n                          f\"n Incorrect: {n_incorrect}\\n\"\n                          f\"Total Score: {total_score}\\n\")\n\n                # show medal type\n                elif msg_type == \"REVEAL_RANKING\":\n                    details = json.loads(msg[\"content\"])\n\n                    # on podium\n                    if \"podiumMedalType\" in details:\n                        medal_type = details[\"podiumMedalType\"]\n                        print(get_medal(medal_type))\n\n                    # end\n                    break\n\n    async def _send(self, channel: str, data: dict):\n        await self.sock.publish(channel, data)\n\n    async def _recv(self) -> dict:\n        rsp = await self.sock.receive()\n        if \"data\" in rsp:\n            return rsp[\"data\"]\n        return rsp\n\n\ndef find(details: dict, title_phrase: str) -> list:\n    cursor = 0\n    answers = []\n\n    # loop through all results\n    while True:\n        quizzes = sess.get(\n            f\"https://create.kahoot.it/rest/kahoots/?query={quote(title_phrase)}&limit=100&cursor={cursor}\")\n        quizzes = json.loads(quizzes.content)\n\n        # no results\n        if len(quizzes[\"entities\"]) == 0:\n            return []\n\n        # find quiz\n        for e in quizzes[\"entities\"]:\n            if e[\"card\"][\"type\"] == details[\"quizType\"] and \\\n                    e[\"card\"][\"number_of_questions\"] == len(details[\"quizQuestionAnswers\"]):\n                # found it, request answers\n                quiz = sess.get(f\"https://create.kahoot.it/rest/kahoots/{e['card']['uuid']}/card/?includeKahoot=true\")\n                quiz = json.loads(quiz.content)\n\n                # compute null positions\n                qs_pos = []\n                for q in quiz[\"kahoot\"][\"questions\"]:\n                    qs_pos.append(None if q[\"type\"] == \"content\" else 0)\n                details_pos = []\n                for a in details[\"quizQuestionAnswers\"]:\n                    details_pos.append(None if a is None else 0)\n                # check match\n                if qs_pos != details_pos:\n                    continue\n\n                for q in quiz[\"kahoot\"][\"questions\"]:\n                    choices = []\n\n                    # avoid non-answering content question\n                    if q[\"type\"] != \"content\":\n                        # has answers\n                        for i, c in enumerate(q[\"choices\"]):\n                            if c[\"correct\"]:\n                                choices.append({\n                                    \"idx\": i,\n                                    \"answer\": c[\"answer\"] if \"answer\" in c else \"\"\n                                })\n                    rand.shuffle(choices)\n\n                    entry = {\n                        \"q\": q[\"question\"] if \"question\" in q else \"{No question provided}\\n\",\n                    }\n                    if len(choices) == 0:\n                        entry[\"a\"] = None\n\n                    elif q[\"type\"] == \"quiz\":\n                        # only 1 answer\n                        entry[\"a\"] = rand.choice(choices)\n\n                    else:\n                        # multiple answers\n                        entry[\"a\"] = choices\n                    answers.append(entry)\n\n                break\n\n        if len(answers) != 0:\n            break\n\n        cursor += len(quizzes[\"entities\"])\n\n    return answers\n\n\ndef decrypt_sess(js_key: str, sess_tok: str) -> str:\n    \"\"\"Decrypt Cometd path\"\"\"\n\n    # extract message and offset\n    offset_equation = js_key[js_key.index(\"=\") + 1:].strip()\n    offset_equation = offset_equation[:offset_equation.index(\";\")].replace(\"\\u2003\", \"\")\n    tmp_msg = js_key[js_key.index(\"'\"):]\n    tmp_msg = tmp_msg[1: tmp_msg.index(\")\") - 1]\n    tmp_msg = (tmp_msg if tmp_msg and len(tmp_msg) > 0 else \"\")\n\n    # reserve challenge to answer\n    msg = \"\"\n    for i, c in enumerate(tmp_msg):\n        msg += chr((ord(c) * i + eval(offset_equation)) % 77 + 48)\n\n    # base64 decode session token\n    b64_sess_tok = b64.b64decode(sess_tok).decode(\"utf-8\", \"strict\")\n\n    # xor message and base64 session token\n    cometd_path = \"\"\n    for i, c in enumerate(b64_sess_tok):\n        cometd_path += chr(ord(c) ^ ord(msg[i % len(msg)]))\n\n    return cometd_path\n\n\ndef strfy_ans(q_type: str, ans) -> str:\n    stmt = \" - \"\n\n    if type(ans) is list:\n        # multiple answers\n        stmt += \"\\n - \".join([a[\"answer\"] for a in ans])\n\n    elif type(ans) is dict:\n        # 1 answer\n        stmt += ans[\"answer\"]\n\n    else:\n        if q_type == \"survey\":\n            stmt += \"{It's a survey, who cares?}\"\n\n    return stmt\n\n\ncode_map = {\n    1: \"GET_READY\",\n    2: \"START_QUESTION\",\n    3: \"GAME_OVER\",\n    4: \"TIME_UP\",\n    5: \"PLAY_AGAIN\",\n    6: \"ANSWER_SELECTED\",\n    7: \"ANSWER_RESPONSE\",\n    8: \"REVEAL_ANSWER\",\n    9: \"START_QUIZ\",\n    10: \"RESET_CONTROLLER\",\n    11: \"SUBMIT_FEEDBACK\",\n    12: \"FEEDBACK\",\n    13: \"REVEAL_RANKING\",\n    14: \"USERNAME_ACCEPTED\",\n    15: \"USERNAME_REJECTED\",\n    16: \"REQUEST_RECOVERY_DATA_FROM_PLAYER\",\n    17: \"SEND_RECOVERY_DATA_TO_CONTROLLER\",\n    18: \"JOIN_TEAM_MEMBERS\",\n    19: \"JOIN_TEAM_MEMBERS_RESPONSE\",\n    20: \"START_TEAM_TALK\",\n    21: \"SKIP_TEAM_TALK\",\n    31: \"IFRAME_CONTROLLER_EVENT\",\n    32: \"SERVER_IFRAME_EVENT\",\n    40: \"STORY_BLOCK_GET_READY\",\n    41: \"REACTION_SELECTED\",\n    42: \"REACTION_RESPONSE\",\n    43: \"GAME_BLOCK_START\",\n    44: \"GAME_BLOCK_END\",\n    45: \"GAME_BLOCK_ANSWER\",\n    50: \"SUBMIT_TWO_FACTOR\",\n    51: \"TWO_FACTOR_AUTH_INCORRECT\",\n    52: \"TWO_FACTOR_AUTH_CORRECT\",\n    53: \"RESET_TWO_FACTOR_AUTH\"\n}\n\n\ndef lookup_code(code: int) -> str:\n    if code in code_map:\n        return code_map[code]\n    return \"\"\n\n\ndef lookup_status(status: str) -> int:\n    for c in code_map:\n        if code_map[c] == status:\n            return c\n    return 0\n\n\nmedal_map = {\n    \"gold\": \"\uD83E\uDD47\",\n    \"silver\": \"\uD83E\uDD48\",\n    \"bronze\": \"\uD83E\uDD49\"\n}\n\n\ndef get_medal(medal_type: str) -> str:\n    if medal_type in medal_map:\n        return medal_map[medal_type]\n    return \"\"\n\n\ndef arg_start():\n    parser = ap.ArgumentParser()\n    parser.add_argument(\"-pin\", \"--pin\", help=\"Pin of the quiz you are automating\")\n    parser.add_argument(\"-title_phrase\", \"--title_phrase\", help=\"Search phrases in the quiz title\")\n    parser.add_argument(\"-name\", \"--name\", default=\"namerator\",\n                        help=\"Player name to use with the quiz (use \\\"namerator\\\" to use Kahoot's naming system)\")\n    parser.add_argument(\"-d\", \"--ans_delay\", default=\"0\", help=\"(optional) Delay before answering question in ms\")\n    args = parser.parse_args()\n    try:\n        _ = args.pin\n    except AttributeError:\n        print(\"No \\\"code\\\" attribute passed\")\n\n    # k = Kahooter(args.pin, args.name, args.title_phrase, args.ans_delay)\n    k = Kahooter(\"308219\", \"namerator\", \"be curious with luca and friends\", 0)\n    k.play()\n\n\n# sample details\ndeets = {\n    'quizType': 'quiz',\n    'quizQuestionAnswers': [4, 2, 4, None, 4, 4, 4, None, 4, 4, 4]\n}\n\nif __name__ == \"__main__\":\n    arg_start()\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/kahooter/live.py b/kahooter/live.py
--- a/kahooter/live.py	(revision 030be6886b4f6de3e3216fdcdc797f3a7e06c6f6)
+++ b/kahooter/live.py	(date 1627735427792)
@@ -133,6 +133,8 @@
                     # locate answer
                     ans = self.questions[i]["a"]
 
+                    is_text = False
+
                     # decide choices
                     if type(ans) is list:
                         # multiple answers
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"1d2f00d8-e8f0-4ecc-aca1-b2f156214523\" name=\"Default Changelist\" comment=\"\">\n      <change beforePath=\"$PROJECT_DIR$/kahooter/live.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/kahooter/live.py\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Python Script\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"FlaskConsoleOptions\" custom-start-script=\"import sys&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;from flask.cli import ScriptInfo&#10;locals().update(ScriptInfo(create_app=None).load_app().make_shell_context())&#10;print(&quot;Python %s on %s\\nApp: %s [%s]\\nInstance: %s&quot; % (sys.version, sys.platform, app.import_name, app.env, app.instance_path))\">\n    <envs>\n      <env key=\"FLASK_APP\" value=\"app\" />\n    </envs>\n    <option name=\"myCustomStartScript\" value=\"import sys&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;from flask.cli import ScriptInfo&#10;locals().update(ScriptInfo(create_app=None).load_app().make_shell_context())&#10;print(&quot;Python %s on %s\\nApp: %s [%s]\\nInstance: %s&quot; % (sys.version, sys.platform, app.import_name, app.env, app.instance_path))\" />\n    <option name=\"myEnvs\">\n      <map>\n        <entry key=\"FLASK_APP\" value=\"app\" />\n      </map>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"PUSH_TAGS\">\n      <GitPushTagMode>\n        <option name=\"argument\" value=\"--tags\" />\n        <option name=\"title\" value=\"All\" />\n      </GitPushTagMode>\n    </option>\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n    <option name=\"RESET_MODE\" value=\"HARD\" />\n    <option name=\"UPDATE_TYPE\" value=\"REBASE\" />\n  </component>\n  <component name=\"ProjectId\" id=\"1oTgDQAGzTBIa2vx4C51OuiCg7X\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\n    <OptionsSetting value=\"false\" id=\"Update\" />\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\n    <property name=\"ASKED_SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\n    <property name=\"com.intellij.ide.scratch.LRUPopupBuilder$1/New Scratch File\" value=\"JSON\" />\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\n    <property name=\"restartRequiresConfirmation\" value=\"false\" />\n    <property name=\"settings.editor.selected.configurable\" value=\"com.jetbrains.python.configuration.PythonContentEntriesConfigurable\" />\n  </component>\n  <component name=\"RecentsManager\">\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/kahooter\" />\n      <recent name=\"$PROJECT_DIR$/py\" />\n      <recent name=\"$PROJECT_DIR$\" />\n      <recent name=\"$PROJECT_DIR$/test\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Python.live\">\n    <configuration name=\"challenge\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"kahooter\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/kahooter\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <EXTENSION ID=\"PythonCoverageRunConfigurationExtension\" runner=\"coverage.py\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/kahooter/challenge.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"live\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"kahooter\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$/kahooter\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <EXTENSION ID=\"PythonCoverageRunConfigurationExtension\" runner=\"coverage.py\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/kahooter/live.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"true\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <recent_temporary>\n      <list>\n        <item itemvalue=\"Python.live\" />\n        <item itemvalue=\"Python.live\" />\n        <item itemvalue=\"Python.live\" />\n        <item itemvalue=\"Python.live\" />\n        <item itemvalue=\"Python.live\" />\n      </list>\n    </recent_temporary>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"1d2f00d8-e8f0-4ecc-aca1-b2f156214523\" name=\"Default Changelist\" comment=\"\" />\n      <created>1613315877309</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1613315877309</updated>\n      <workItem from=\"1613315881053\" duration=\"10501000\" />\n      <workItem from=\"1613402572234\" duration=\"5090000\" />\n      <workItem from=\"1613557162730\" duration=\"3116000\" />\n      <workItem from=\"1613576868370\" duration=\"16665000\" />\n      <workItem from=\"1613649960089\" duration=\"1574000\" />\n      <workItem from=\"1613667124369\" duration=\"5097000\" />\n      <workItem from=\"1613721241115\" duration=\"16208000\" />\n      <workItem from=\"1613826694227\" duration=\"27881000\" />\n      <workItem from=\"1614074163900\" duration=\"779000\" />\n      <workItem from=\"1614075206512\" duration=\"765000\" />\n      <workItem from=\"1614158274971\" duration=\"3143000\" />\n      <workItem from=\"1614186421358\" duration=\"1604000\" />\n      <workItem from=\"1614243841021\" duration=\"828000\" />\n      <workItem from=\"1614260394336\" duration=\"22469000\" />\n      <workItem from=\"1614544882521\" duration=\"176000\" />\n      <workItem from=\"1614630204361\" duration=\"3740000\" />\n      <workItem from=\"1614672835067\" duration=\"3394000\" />\n      <workItem from=\"1614693170537\" duration=\"710000\" />\n      <workItem from=\"1614760540695\" duration=\"45172000\" />\n      <workItem from=\"1615018451884\" duration=\"1451000\" />\n      <workItem from=\"1615051191498\" duration=\"2168000\" />\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"decrypted cometd\">\n      <created>1613598867835</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1613598867836</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"implemented handshake, login and answer reception\">\n      <created>1613816655879</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1613816655879</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"can join quiz and wait for quiz to start\">\n      <created>1613925928110</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1613925928111</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"able to answer questions&#10;&#10;next -&gt; to answer correctly\">\n      <created>1614261448617</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614261448617</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"random answers\">\n      <created>1614462291841</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614462291842</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"text based ui\">\n      <created>1614534770635</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614534770635</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"formatted code&#10;&#10;next to get correct answers\">\n      <created>1614537677714</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614537677714</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"updated\">\n      <created>1614544396832</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614544396832</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"created programmatic endpoint to start quiz\">\n      <created>1614670665508</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614670665509</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"found answers\">\n      <created>1614771897312</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614771897312</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"converted ans to idxes\">\n      <created>1614772512120</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614772512121</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"working for normal quiz questions\">\n      <created>1614773483129</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614773483129</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"Done. initial tests seem to be working\">\n      <created>1614783110240</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614783110240</updated>\n    </task>\n    <task id=\"LOCAL-00014\" summary=\"del planning\">\n      <created>1614783231265</created>\n      <option name=\"number\" value=\"00014\" />\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614783231265</updated>\n    </task>\n    <task id=\"LOCAL-00015\" summary=\"default arg values to prevent errors. period = delay + .25\">\n      <created>1614784733612</created>\n      <option name=\"number\" value=\"00015\" />\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614784733612</updated>\n    </task>\n    <task id=\"LOCAL-00016\" summary=\"tested find answers\">\n      <created>1614791033635</created>\n      <option name=\"number\" value=\"00016\" />\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614791033635</updated>\n    </task>\n    <task id=\"LOCAL-00017\" summary=\"converted to modules\">\n      <created>1614792398376</created>\n      <option name=\"number\" value=\"00017\" />\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614792398376</updated>\n    </task>\n    <task id=\"LOCAL-00018\" summary=\"basic bs design\">\n      <created>1614804886856</created>\n      <option name=\"number\" value=\"00018\" />\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614804886856</updated>\n    </task>\n    <task id=\"LOCAL-00019\" summary=\"going to use android app instead of website&#10;&#10;ensures exclusivity of this project so that it does not get into the wrong hands.\">\n      <created>1614935148204</created>\n      <option name=\"number\" value=\"00019\" />\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614935148204</updated>\n    </task>\n    <task id=\"LOCAL-00020\" summary=\"challenge can jumble\">\n      <created>1614940643374</created>\n      <option name=\"number\" value=\"00020\" />\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1614940643374</updated>\n    </task>\n    <task id=\"LOCAL-00021\" summary=\"created proj + not possible to solve jumble on live.py\">\n      <created>1615024451797</created>\n      <option name=\"number\" value=\"00021\" />\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1615024451797</updated>\n    </task>\n    <task id=\"LOCAL-00022\" summary=\"find online ide to run it\">\n      <created>1615051466295</created>\n      <option name=\"number\" value=\"00022\" />\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1615051466295</updated>\n    </task>\n    <task id=\"LOCAL-00023\" summary=\"update imports\">\n      <created>1615062327445</created>\n      <option name=\"number\" value=\"00023\" />\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1615062327445</updated>\n    </task>\n    <task id=\"LOCAL-00024\" summary=\"fixed challenge.py\">\n      <created>1625752125619</created>\n      <option name=\"number\" value=\"00024\" />\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1625752125620</updated>\n    </task>\n    <task id=\"LOCAL-00025\" summary=\"switching to cometd\">\n      <created>1626092993035</created>\n      <option name=\"number\" value=\"00025\" />\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1626092993035</updated>\n    </task>\n    <task id=\"LOCAL-00026\" summary=\"init\">\n      <created>1626098155895</created>\n      <option name=\"number\" value=\"00026\" />\n      <option name=\"presentableId\" value=\"LOCAL-00026\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1626098155895</updated>\n    </task>\n    <task id=\"LOCAL-00027\" summary=\"starting moves\">\n      <created>1626120112425</created>\n      <option name=\"number\" value=\"00027\" />\n      <option name=\"presentableId\" value=\"LOCAL-00027\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1626120112425</updated>\n    </task>\n    <task id=\"LOCAL-00028\" summary=\"selecting answers correctly\">\n      <created>1626377606442</created>\n      <option name=\"number\" value=\"00028\" />\n      <option name=\"presentableId\" value=\"LOCAL-00028\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1626377606442</updated>\n    </task>\n    <task id=\"LOCAL-00029\" summary=\"working as well as possible - now on user interface\">\n      <created>1626436826556</created>\n      <option name=\"number\" value=\"00029\" />\n      <option name=\"presentableId\" value=\"LOCAL-00029\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1626436826556</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"30\" />\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"UpdateCopyrightCheckinHandler\">\n    <option name=\"UPDATE_COPYRIGHT\" value=\"true\" />\n  </component>\n  <component name=\"Vcs.Log.History.Properties\">\n    <option name=\"COLUMN_ID_ORDER\">\n      <list>\n        <option value=\"Default.Root\" />\n        <option value=\"Default.Author\" />\n        <option value=\"Default.Date\" />\n        <option value=\"Default.Subject\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <option name=\"CHECK_CODE_SMELLS_BEFORE_PROJECT_COMMIT\" value=\"true\" />\n    <option name=\"CHECK_CODE_CLEANUP_BEFORE_PROJECT_COMMIT\" value=\"true\" />\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\n    <MESSAGE value=\"created programmatic endpoint to start quiz\" />\n    <MESSAGE value=\"found answers\" />\n    <MESSAGE value=\"converted ans to idxes\" />\n    <MESSAGE value=\"working for normal quiz questions\" />\n    <MESSAGE value=\"working for mcq as well\" />\n    <MESSAGE value=\"Done. initial tests seem to be working\" />\n    <MESSAGE value=\"del planning\" />\n    <MESSAGE value=\"default arg values to prevent errors. period = delay + .25\" />\n    <MESSAGE value=\"tested find answers\" />\n    <MESSAGE value=\"README.md v1\" />\n    <MESSAGE value=\"converted to modules\" />\n    <MESSAGE value=\"basic design\" />\n    <MESSAGE value=\"basic bs design\" />\n    <MESSAGE value=\"moving to rhobro.github.io\" />\n    <MESSAGE value=\"going to use android app instead of website&#10;&#10;ensures exclusivity of this project so that it does not get into the wrong hands.\" />\n    <MESSAGE value=\"challenge can jumble\" />\n    <MESSAGE value=\"created proj + not possible to solve jumble on live.py\" />\n    <MESSAGE value=\"find online ide to run it\" />\n    <MESSAGE value=\"update imports\" />\n    <MESSAGE value=\"fixed challenge.py\" />\n    <MESSAGE value=\"switching to cometd\" />\n    <MESSAGE value=\"init\" />\n    <MESSAGE value=\"starting moves\" />\n    <MESSAGE value=\"selecting answers correctly\" />\n    <MESSAGE value=\"working as well as possible - now on user interface\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"working as well as possible - now on user interface\" />\n    <option name=\"OPTIMIZE_IMPORTS_BEFORE_PROJECT_COMMIT\" value=\"true\" />\n    <option name=\"REFORMAT_BEFORE_PROJECT_COMMIT\" value=\"true\" />\n    <option name=\"REARRANGE_BEFORE_PROJECT_COMMIT\" value=\"true\" />\n  </component>\n  <component name=\"XDebuggerManager\">\n    <breakpoint-manager>\n      <breakpoints>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/kahooter/live.py</url>\n          <line>242</line>\n          <option name=\"timeStamp\" value=\"39\" />\n        </line-breakpoint>\n      </breakpoints>\n      <default-breakpoints>\n        <breakpoint type=\"python-exception\">\n          <properties notifyOnTerminate=\"true\" exception=\"BaseException\">\n            <option name=\"notifyOnTerminate\" value=\"true\" />\n          </properties>\n        </breakpoint>\n      </default-breakpoints>\n    </breakpoint-manager>\n    <watches-manager>\n      <configuration name=\"PythonConfigurationType\">\n        <watch expression=\"name\" language=\"Python\" />\n      </configuration>\n    </watches-manager>\n  </component>\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\n    <SUITE FILE_PATH=\"coverage/kahooter$live.coverage\" NAME=\"live Coverage Results\" MODIFIED=\"1626435384804\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$/kahooter\" />\n    <SUITE FILE_PATH=\"coverage/kahooter$__init__.coverage\" NAME=\"__init__ Coverage Results\" MODIFIED=\"1625743566069\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$/kahooter\" />\n    <SUITE FILE_PATH=\"coverage/kahooter$main.coverage\" NAME=\"main Coverage Results\" MODIFIED=\"1613375803366\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$\" />\n    <SUITE FILE_PATH=\"coverage/kahooter$challenge.coverage\" NAME=\"challenge Coverage Results\" MODIFIED=\"1625763652677\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$/kahooter\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 030be6886b4f6de3e3216fdcdc797f3a7e06c6f6)
+++ b/.idea/workspace.xml	(date 1627735174898)
@@ -1,9 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ChangeListManager">
-    <list default="true" id="1d2f00d8-e8f0-4ecc-aca1-b2f156214523" name="Default Changelist" comment="">
-      <change beforePath="$PROJECT_DIR$/kahooter/live.py" beforeDir="false" afterPath="$PROJECT_DIR$/kahooter/live.py" afterDir="false" />
-    </list>
+    <list default="true" id="1d2f00d8-e8f0-4ecc-aca1-b2f156214523" name="Default Changelist" comment="" />
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -94,6 +92,9 @@
       <module name="kahooter" />
       <option name="INTERPRETER_OPTIONS" value="" />
       <option name="PARENT_ENVS" value="true" />
+      <envs>
+        <env name="PYTHONUNBUFFERED" value="1" />
+      </envs>
       <option name="SDK_HOME" value="" />
       <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$/kahooter" />
       <option name="IS_MODULE_SDK" value="true" />
@@ -352,7 +353,14 @@
       <option name="project" value="LOCAL" />
       <updated>1626436826556</updated>
     </task>
-    <option name="localTasksCounter" value="30" />
+    <task id="LOCAL-00030" summary="medal acceptance">
+      <created>1626539905358</created>
+      <option name="number" value="00030" />
+      <option name="presentableId" value="LOCAL-00030" />
+      <option name="project" value="LOCAL" />
+      <updated>1626539905358</updated>
+    </task>
+    <option name="localTasksCounter" value="31" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -387,7 +395,6 @@
     <option name="CHECK_CODE_SMELLS_BEFORE_PROJECT_COMMIT" value="true" />
     <option name="CHECK_CODE_CLEANUP_BEFORE_PROJECT_COMMIT" value="true" />
     <option name="ADD_EXTERNAL_FILES_SILENTLY" value="true" />
-    <MESSAGE value="created programmatic endpoint to start quiz" />
     <MESSAGE value="found answers" />
     <MESSAGE value="converted ans to idxes" />
     <MESSAGE value="working for normal quiz questions" />
@@ -412,7 +419,8 @@
     <MESSAGE value="starting moves" />
     <MESSAGE value="selecting answers correctly" />
     <MESSAGE value="working as well as possible - now on user interface" />
-    <option name="LAST_COMMIT_MESSAGE" value="working as well as possible - now on user interface" />
+    <MESSAGE value="medal acceptance" />
+    <option name="LAST_COMMIT_MESSAGE" value="medal acceptance" />
     <option name="OPTIMIZE_IMPORTS_BEFORE_PROJECT_COMMIT" value="true" />
     <option name="REFORMAT_BEFORE_PROJECT_COMMIT" value="true" />
     <option name="REARRANGE_BEFORE_PROJECT_COMMIT" value="true" />
@@ -422,7 +430,7 @@
       <breakpoints>
         <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
           <url>file://$PROJECT_DIR$/kahooter/live.py</url>
-          <line>242</line>
+          <line>244</line>
           <option name="timeStamp" value="39" />
         </line-breakpoint>
       </breakpoints>
